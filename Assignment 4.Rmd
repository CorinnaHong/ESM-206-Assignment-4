---
title: "Assignment 4"
author: "Corinna Hong"
date: "November 14, 2018"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}

library(tidyverse)
library(tidyr)
library(vcdExtra)

```


```{r, include = FALSE}

# Read in data and put into tidy format

lobster_abundance <- read_csv("lobster_size_abundance.csv") %>% 
  as.data.frame(lobster_abundance) %>% # coerce tibbles into data.frame
  filter(COUNT != "0") %>% 
  expand.dft(freq = "COUNT") %>% # Give each lobster observation its own row
  select(YEAR, MONTH, DATE, SITE, SIZE)

lobster_traps <- read_csv("lobster_traps.csv") %>%
  filter(SITE == "IVEE"| SITE == "IVEE"|SITE =="NAPL" |SITE == "AQUE"|SITE == "CARP" |SITE == "MOHK") %>% 
  select(YEAR, MONTH, DATE, SITE, TRAPS)

```

1. Lobster abundance and fishing pressure (2012 - 2017)

```{r}

# Create five graphs of each location with years on the x-axis and count of lobsters on y-axis

abundance_summary <- lobster_abundance %>% 
  group_by(SITE) %>% 
  count(YEAR) # Count how many observations there are in each year (data is grouped by site)
abundance_summary

abundance_col <- ggplot(abundace_summary, aes(x = YEAR, y = n)) +
  geom_col() +
  facet_wrap(~ SITE)
abundance_col

# Create graphs of trap buoys versus year at each site

trap_summary <- lobster_traps %>% 
  group_by(SITE) %>% 
  count(YEAR) # Count how many observations there are in each year (data is grouped by site)
trap_summary

trap_col <- ggplot(trap_summary, aes(x = YEAR, y = n)) +
  geom_col() +
  facet_wrap(~ SITE)
trap_col

```

